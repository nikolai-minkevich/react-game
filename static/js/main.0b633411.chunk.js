(this["webpackJsonpreact-game"]=this["webpackJsonpreact-game"]||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports={cell:"style_cell__IKPd9",selected:"style_selected__3kRam"}},function(e,t,n){e.exports={board:"style_board__2GPzz",row:"style_row__2gWqr"}},function(e,t,n){e.exports={container:"style_container__314_4",footer:"style_footer__37GT_",footer_img:"style_footer_img__21fny"}},,,,,function(e,t,n){},function(e,t,n){e.exports={layout:"style_layout__1YIH4"}},function(e,t,n){e.exports={message:"style_message__JchRN",win:"style_win__3Oudc",fail:"style_fail__2R9As"}},function(e,t,n){e.exports={button:"style_button__3etLJ"}},,,,,,,,function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(11),s=n.n(c),i=n(12),l=(n(26),n(3)),o=n(4),u=n(6),h=n(5),d=n(15),j=n.n(d),b=n(16),f=n.n(b),p=n(0),O=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.children;return Object(p.jsx)("div",{className:f.a.layout,children:e})}}]),n}(a.a.PureComponent);O.defaultProps={};var v=O,y=n(8),x=n.n(y),m=n(28),_=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.onClick,r=e.x,a=e.y,c=e.selected,s=m(x.a.cell,c?x.a.selected:null);return Object(p.jsx)("div",{className:s,onClick:n,"data-x":r,"data-y":a,children:null==t?"":t>0?"X":"O"})}}]),n}(a.a.PureComponent),g=n(9),C=n.n(g),k=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"handleCellClick",value:function(e){(0,this.props.onClick)(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.cells,r=t.selectedCells,a=void 0===r?[]:r;return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:C.a.board,children:n.map((function(t,n){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:C.a.row,children:t.map((function(t,r){var c=!1;if(a.length>0)for(var s=0;s<a.length;s++)a[s][0]==n&&a[s][1]==r&&(c=!0);return Object(p.jsx)(_,{value:t,onClick:e.handleCellClick.bind(e),x:n,y:r,selected:c})}))})})}))})})}}]),n}(a.a.PureComponent),w=n(10),N=n.n(w),P=n.p+"static/media/logo-rs.b1ebf52c.png",R=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(p.jsx)("footer",{className:N.a.footer,children:Object(p.jsxs)("div",{className:N.a.container,children:[Object(p.jsxs)("span",{children:[Object(p.jsx)("a",{href:"https://github.com/nikolai-minkevich",children:"Minkevich Nikolai"}),", 2021"]}),Object(p.jsx)("a",{href:"https://rs.school",children:Object(p.jsx)("img",{src:P,alt:"RSSchool Logo"})})]})})}}]),n}(a.a.PureComponent),T=n(17),F=n.n(T),I=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.children;return Object(p.jsx)("div",{className:F.a.message,children:e})}}]),n}(a.a.PureComponent);var M=n(18),S=n.n(M),A=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.children;return Object(p.jsx)("div",{className:S.a.button,onClick:t,children:n})}}]),n}(a.a.PureComponent),G=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state=e.getNewGame(),e}return Object(o.a)(n,[{key:"getNewGame",value:function(){return{cells:new Array(3).fill(new Array(3).fill(null)),nextTurn:1,isWin:!1}}},{key:"handleBoardClick",value:function(e){var t=this.state.isWin;if(!1===t||void 0===t){var n=e.target.dataset,r=n.x,a=n.y,c=this.state.nextTurn,s=c;this.setState((function(e){var t=e.cells.map((function(e,t){return e.map((function(e,n){return t===parseInt(r)&&n===parseInt(a)&&null===e?(s=-1*c,c):e}))})),n=!1;return s!==c&&(n=function(e){for(var t=[],n=0;n<e.length;n++){var r=0;t=[];for(var a=0;a<e[n].length;a++)r+=e[n][a],t.push([n,a]);if(3===Math.abs(r))return{type:"row",winner:r/3,selectedCells:t}}for(var c=0;c<e.length;c++){var s=0;t=[];for(var i=0;i<e[c].length;i++)s+=e[i][c],t.push([i,c]);if(3===Math.abs(s))return{type:"column",winner:s/3,selectedCells:t}}var l=e[0][0]+e[1][1]+e[2][2];return 3===Math.abs(l)?{type:"diagonal",winner:l/3,selectedCells:t=[[0,0],[1,1],[2,2]]}:(l=e[2][0]+e[1][1]+e[0][2],3===Math.abs(l)?{type:"diagonal",winner:l/3,selectedCells:t=[[2,0],[1,1],[0,2]]}:!!function(e){var t=!0;return e.map((function(e){return e.map((function(e){return null===e&&(t=!1),e}))})),t}(e)&&{type:"draw"})}(t)),{cells:t,nextTurn:s,isWin:n}}))}}},{key:"handleRestartClick",value:function(e){var t=this;console.log("Restart"),this.setState((function(){return t.getNewGame()}))}},{key:"render",value:function(){var e=this.state,t=e.cells,n=e.nextTurn,r=e.isWin,a=r.type,c=r.selectedCells,s=r.winner,i=null;return!1!==r&&(i="draw"===a?Object(p.jsx)(I,{children:"Draw!"}):s>0?Object(p.jsx)(I,{children:"Crosses win!"}):Object(p.jsx)(I,{children:"Noughts win!"})),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:j.a.App}),Object(p.jsxs)(v,{children:[Object(p.jsx)(k,{cells:t,onClick:this.handleBoardClick.bind(this),selectedCells:c}),Object(p.jsxs)("div",{className:"stat",children:[i,Object(p.jsxs)("div",{className:"nextTurn",children:["Next turn: ",n>0?"X":"O"]}),Object(p.jsx)(A,{onClick:this.handleRestartClick.bind(this),children:"Restart"})]})]}),Object(p.jsx)(R,{})]})}}]),n}(a.a.PureComponent),W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,30)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(p.jsxs)(a.a.StrictMode,{children:[Object(p.jsx)(i.a,{children:Object(p.jsx)("title",{children:"X-O-X"})}),Object(p.jsx)(G,{})]}),document.getElementById("root")),W()}],[[29,1,2]]]);
//# sourceMappingURL=main.0b633411.chunk.js.map